<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="theme-color" content="#000000">
<meta name="description" content="Test of layout change and persistence">
<title>test dir persist grid</title>

<!--
<script type="text/javascript" src="./js/s3-client.js"></script>
<link href="./css/mainmonitor.css" rel="stylesheet">
-->
<!--
This would not be possible without these awesome opensource projects:
	1. [Pyodide](https://pyodide.org/en/stable/) [src](https://github.com/pyodide/pyodide)
	2. [Tabulator](https://www.tabulator.info/) [src](https://github.com/olifolkerd/tabulator)
	3. [Codemirror](https://codemirror.net/5/) [src](https://github.com/codemirror/codemirror5)
	4. [Bootstrap](https://getbootstrap.com/)
	5. [Tabler.io](https://tabler.io/docs/ui)
-->
<!-- =====  tabler/bootstrap ================================== -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta24/dist/css/tabler.min.css">
<script src="https://cdn.jsdelivr.net/npm/@tabler/core@latest/dist/js/tabler.min.js"></script>

<!-- =====  pyodide ================================== -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.27.2/full/pyodide.js"></script>

<!-- =====  codemirror5 ================================== -->
<link rel="stylesheet" href="./js/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="./js/codemirror/theme/cobalt.css">
<link rel="stylesheet" href="./js/codemirror/addon/dialog/dialog.css">
<script src="./js/codemirror/lib/codemirror.js"></script>
<script src="./js/codemirror/mode/python/python.js"></script>
<script src="./js/codemirror/addon/edit/matchbrackets.js"></script>
<script src="./js/codemirror/addon/search/search.js"></script>
<script src="./js/codemirror/addon/search/searchcursor.js"></script>
<script src="./js/codemirror/addon/search/jump-to-line.js"></script>
<script src="./js/codemirror/addon/comment/comment.js"></script> 
<script src="./js/codemirror/addon/dialog/dialog.js"></script>

<!-- =====  tabulator ==================================== -->
<link href="./css/tabulator_site_dark.min.css" rel="stylesheet">
<script src="./js/tabulator.min.js"></script>
<!-- ======== luxon ============================================= -->
<script src="https://cdn.jsdelivr.net/npm/luxon/build/global/luxon.min.js" type="text/javascript"></script>

<!-- ======== gridstack ============================================= -->

<script src="./js/gridstack/gridstack-all.js"></script>
<link href="./js/gridstack/gridstack.min.css" rel="stylesheet"/>

<style type="text/css">
  .grid-stack { background: #101056; }
  .grid-stack-item-content { background-color: #30307E; }
  
  
  
   .grid-elem-header {
      min-height: 25px;
    }
    .grid-elem-header:hover {
      background-color: rgba(0,0,0,0.1);
    }
	.grid-elem-draggable {
		cursor: move;
	}
    .grid-elem-body {
		height: calc(100% - 25px);
    }
  
	.small-svg-button:hover {
		background-color: rgba(0,0,0,0.2);
		
	}
	.small-svg-button {
		
		
	}
  
  
	.svg-container {
      width: 100%;
      height: 100%;
    }

    .svg-container svg {
      width: 100%;
      height: 100%;
    }
     
    .CodeMirror {
      height: 100%;
      font-size: 12px;
    }
    
    .svg-icon {
      /* 
      width: 100px;
      height: 100px;
      cursor: pointer;
     
      transition: transform 1s ease-in-out;
      */
       
    }

    .svg-icon.animate {
      transform: scale(0.8);
      animation: pulse 2s ease-in-out forwards infinite; 
    }

    @keyframes pulse {
      0% {
        transform: scale(0.8);
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
      }
    }
    
    .svg-icon.animate-stroke {
      animation: stroke-change 1s infinite;
    }
    
     @keyframes stroke-change {
      0% {
        stroke: yellow;
      }
      50% {
        stroke: red;
      }
      100% {
        stroke: yellow;
      }
    }
    
  
</style>

<!-- ========  ============================================= -->
<script src="./js/mainpagegrid.js" defer="defer" type="module"></script>

</head>

<body data-bs-theme="dark">
	  
	  
<div class="card">
  <div class="card-header">
    <ul id="navtabs" class="nav nav-tabs card-header-tabs" data-bs-toggle="tabs">
      <li class="nav-item">
        <a href="#tab-gridmain" class="nav-link active" data-bs-toggle="tab">Grid</a>
      </li>
      <li class="nav-item">
        <a href="#tab-other" class="nav-link" data-bs-toggle="tab">Other</a>
      </li>
      
       <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown</a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="#">Action </a>
          <a class="dropdown-item" href="#">Another action</a>
        </div>
      </li>
      
      
      
      
      
      
       <li class="nav-item  ms-auto">
        <a href="#tab-app" class="nav-link" data-bs-toggle="tab">
			Settings&nbsp;
			<svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
            stroke-linecap="round"
            stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"
            />
            <circle cx="12" cy="12" r="3" />
			</svg>
			&nbsp;
			<span id="pyisloading"  style="display: display;">
				<img src="/img/settings-01.gif" style="opacity: 0.8;"  width="20"  height="20"    alt="Loading..." />
				<!--
				<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="green"  
				stroke-width="1.75"  
				stroke-linecap="round"  
				stroke-linejoin="round"  
				class="icon icon-tabler icons-tabler-outline icon-tabler-brand-python">
			
				<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3" />
				<path d="M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3" />
				<path d="M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4" />
				<path d="M11 6l0 .01" /><path d="M13 18l0 .01" />
				</svg>
				--->
			</span>
			<span id="pyrunningspinner" class="spinner-border spinner-border-sm me-2"  style="display: none;" role="status"></span>
			
			<span id="dbfilestatus" style="display: display;">
				<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="red"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-device-floppy"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2" /><path d="M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M14 4l0 4l-6 0l0 -4" /></svg>
			</span>
			<span id="dbfilerunningspinner" class="spinner-border spinner-border-sm me-2"  style="display: none;" role="status">
			</span>
			<span id="pyloaded" style="display: display;">
				<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="green"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-python"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3" /><path d="M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3" /><path d="M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4" /><path d="M11 6l0 .01" /><path d="M13 18l0 .01" /></svg>
			</span>
			

			
			<!---
				<animateTransform
					  attributeName="transform"
					  begin="0s"
					  dur="10s"
					  type="rotate"
					  from="0 0 0"
					  to="360 0 0"
					  repeatCount="indefinite" />
			
			---->
			<span id="pyrunningspinner" class="spinner-border spinner-border-sm me-2"  style="display: none;" role="status">
			</span>
			<span id="dbloaded" style="display: display;">
				<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="green"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-file-type-sql"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M5 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75" /><path d="M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4" /><path d="M18 15v6h2" /><path d="M13 15a2 2 0 0 1 2 2v2a2 2 0 1 1 -4 0v-2a2 2 0 0 1 2 -2z" /><path d="M14 20l1.5 1.5" /></svg>
			</span>
			<span id="dbisloading"  style="display: none;">
				<img src="/img/file-type-sql-yellow.gif"  alt="" />
			</span>
			<span id="dbisloading1"  style="display: none;">
				<img src="/img/spinner-yellow.gif"  width="14" height="14" alt="" />
			</span>
			<span id="dbrunningspinner" class="spinner-border spinner-border-sm me-2"  style="display: none;" role="status">
			</span>
		</a>
      </li>
      
    </ul>
  </div>
  <div class="card-body">
    <div class="tab-content">
      <div class="tab-pane active show" id="tab-gridmain">
        
		<div class="grid-stack"></div>
      	    
        
      </div>    

      <div class="tab-pane" id="tab-other">
			test
      </div>
       <div class="tab-pane" id="tab-app">
			Settings here
      </div>

    </div>
    
  </div>
</div>

<!-- -----  ---------  -->

		<template id="gridelementtemplate">
			
			<div class="grid-stack-item" gs-w="3" gs-h="3" id="item">
				<div class="grid-stack-item-content">
					<div class="grid-elem-header grid-elem-draggable" id="grid-el-header"><span class="griditemheadertext"></span></div>
					<div class="grid-elem-body" id="grid-el-body"></div>
				</div>
			</div>
		
		</template>

		<template id="gridelementtemplatecode">
			
			<div class="grid-stack-item" gs-w="3" gs-h="3" id="item">
				<div class="grid-stack-item-content">
					<div class="grid-elem-header  d-flex " id="grid-el-header">
						<span class="griditemheadertext"></span>
						
						
						
						<div class="ms-auto d-flex" id="controlelements">
							
							<span id="action" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-player-play"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z" /></svg>
							</span>
							
							<span class="btn-ghost" id="runcodeaction" style="display: display;">
								
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-player-play"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 4v16l13 -8z" /></svg>
							</span>
							<span id="syncaction" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-arrows-left-right"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 17l-18 0" /><path d="M6 10l-3 -3l3 -3" /><path d="M3 7l18 0" /><path d="M18 20l3 -3l-3 -3" /></svg>
							</span>
							
							<span id="settingsaction" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-adjustments"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M6 4v4" /><path d="M6 12v8" /><path d="M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M12 4v10" /><path d="M12 18v2" /><path d="M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M18 4v1" /><path d="M18 9v11" /></svg>
							</span>
							<span id="editaction" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-pencil"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg>
							</span>
							<span id="lockopenaction" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-lock-open-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z" /><path d="M9 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0" /><path d="M13 11v-4a4 4 0 1 1 8 0v4" /></svg>
							</span>
							<span id="lockclosedaction" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-lock"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z" /><path d="M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0" /><path d="M8 11v-4a4 4 0 1 1 8 0v4" /></svg>
							</span>
							<span id="attentionaction" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-exclamation-circle"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M17 3.34a10 10 0 1 1 -15 8.66l.005 -.324a10 10 0 0 1 14.995 -8.336m-5 11.66a1 1 0 0 0 -1 1v.01a1 1 0 0 0 2 0v-.01a1 1 0 0 0 -1 -1m0 -7a1 1 0 0 0 -1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0 -1 -1" /></svg>
							</span>
							<span id="moveaction" class="small-svg-button grid-elem-draggable" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-direction-arrows"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M8 11l-1 1l1 1" /><path d="M11 8l1 -1l1 1" /><path d="M16 11l1 1l-1 1" /><path d="M11 16l1 1l1 -1" /></svg>
							</span>
							<span id="reloadaction" class="small-svg-button" style="display: display;">
								<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-refresh"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" /><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" /></svg>
							</span>
							
							<div class="dropdown small-svg-button">
								<div id="closeaction" style="display: display;" class="small-svg-button" data-bs-toggle="dropdown">
									<svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.75"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>
								</div>
								
								 <div class="dropdown-menu">
									<a class="dropdown-item" href="#">Action</a>
									<a class="dropdown-item" href="#">Another action</a>
								  </div>
							</div>
						</div>
					</div>
					<div class="grid-elem-body" id="grid-el-body"><textarea class="code-editor"></textarea></div>
				</div>
			</div>
		
		</template>

<!--  -----------------   -->
	  
</body>
</html>

